<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Client Profile</title>
</head>
<body>
  <h1>Client Profile</h1>
  <div id="profile"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const clientName = params.get('name');

    if (!clientName) {
      document.getElementById('profile').innerHTML = '<p>No client specified.</p>';
    } else {
      fetch('/clients')
        .then(response => response.json())
        .then(data => {
          const client = data.find(c => c.name.toLowerCase() === clientName.toLowerCase());
          if (!client) {
            document.getElementById('profile').innerHTML = `<p>No client found for: ${clientName}</p>`;
            return;
          }

          document.getElementById('profile').innerHTML = `
            <h2>${client.name}</h2>
            <p>ðŸ“§ <strong>Email:</strong> ${client.contactEmail}</p>
            <p>ðŸ“ž <strong>Phone:</strong> ${client.contactPhone}</p>
            <p>ðŸ‘¤ <strong>Account Manager:</strong> ${client.accountManager}</p>
            <p>ðŸ“… <strong>Joined:</strong> ${new Date(client.joinedOn).toLocaleDateString()}</p>
          `;
        });
    }
  </script>
</body>
</html>
